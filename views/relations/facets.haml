.panel.facets
  - if @meta["relation-sources"].present?
    .panel-body
      %h4
        Sources
      %ul
        - @meta["relation-sources"].each do |f|
          - if params['source-id'] == f.fetch("id", nil)
            %li.active
              %a{:href => works_query(params.except('source-id'))}
                %i.fa.fa-check-square-o
              .facet-title
                = f.fetch("title", nil)
              %span.number.pull-right= "#{number_with_delimiter(s.last)}"
              .clearfix
          - else
            %li
              %a{:href => works_query(params.merge('source-id' => f.fetch("id", nil)))}
                %i.fa.fa-square-o
              .facet-title
                = f.fetch("title", nil)
              %span.number.pull-right= "#{number_with_delimiter(s.last)}"
              .clearfix

  - if @meta["relation-types"].present?
    .panel-body
      %h4
        Relation Types
      %ul
        - @meta["relation-types"].each do |f|
          - if params['relation-type-id'] == f.fetch("id", nil)
            %li.active
              %a{:href => works_query(params.except('relation-type-id'))}
                %i.fa.fa-check-square-o
              .facet-title
                = f.fetch("title", nil)
              %span.number.pull-right= "#{number_with_delimiter(s.last)}"
              .clearfix
          - else
            %li
              %a{:href => works_query(params.merge('relation-type-id' => f.fetch("id", nil)))}
                %i.fa.fa-square-o
              .facet-title
                = f.fetch("title", nil)
              %span.number.pull-right= "#{number_with_delimiter(s.last)}"
              .clearfix
